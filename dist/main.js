(()=>{"use strict";function e(e){const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(function(e){const t=e.target.closest(".edit-container");if(null!=e.target.closest(".tile")){const e=document.querySelector("#project-option");e.classList.remove("hidden"),t.appendChild(e)}else if(null!=e.target.closest("li")){const e=document.getElementById("list-option");e.classList.remove("hidden"),t.appendChild(e)}}(e),n=e.target.closest("[data-dropdown]"),setTimeout((function(){n.classList.toggle("active")}),0)),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))}function t(e){let t=e.target.parentNode.parentNode,n=t.parentNode;!function(e){e.classList.remove("active")}(t),!0==!document.querySelector("#rename-form").classList.contains("hidden")&&(o(),d()),function(e){const t=e.parentNode,n=document.getElementById("rename-form");let c=e.querySelector(".project-name").textContent;n.querySelector("input").value=c,t.insertBefore(n,e)}(n),function(){const e=document.querySelector("#rename-form");setTimeout((()=>{e.classList.remove("hidden")}),0)}(),document.querySelector(".project-rename-input").focus(),n.classList.add("hidden")}function n(e){let t=e.target.closest(".tile"),n=t.dataset.project;if(t.classList.contains("selected")){const e=document.querySelector("#today"),t=e.querySelector("[data-name]");e.classList.add("selected"),a(t)}c(),t.remove(),function(){let e=0;document.querySelectorAll(".project .tile").forEach((t=>{let n=t.dataset.project;t.dataset.project=e,u[n].dataProject=e,e++})),u.sort(((e,t)=>e.dataProject-t.dataProject)),m()}(),u.splice(n,1),m()}function c(){const e=document.getElementById("project-option");e.classList.add("hidden"),document.querySelector(".project").appendChild(e);const t=document.querySelector("#list-option");t.classList.add("hidden"),document.querySelector(".list-todo").appendChild(t)}function o(){const e=document.getElementById("rename-form"),t=document.querySelector(".project");e.classList.add("hidden"),t.appendChild(e)}function d(){document.querySelector("div.hidden").classList.remove("hidden")}function l(e){return u.reduce(((t,n)=>{let c=n.taskList.find((t=>t.id==e));return null!=c&&(t=c),t}),{})}function s(){const e=document.querySelector("#list-form"),t=document.querySelector("#list-input"),n=document.querySelector("#list-input-detail"),c=document.querySelector("#list-input-date");e.classList.add("hidden"),t.value="",n.value="",c.value=""}let r=Number(localStorage.getItem("currentId"))||0;function a(e){document.querySelector(".title").textContent=e.textContent}function i(e,t,n,c,o,d){const l=document.querySelector("ul"),s=document.createElement("li");s.id=e,l.appendChild(s);const r=document.createElement("div");r.classList.add("unchecked"),s.appendChild(r);const a=document.createElement("div");a.classList.add("list-details"),s.appendChild(a),o&&(r.classList.toggle("checked"),a.classList.toggle("line-through"),a.classList.toggle("fade"));const i=document.createElement("div");i.classList.add("task-title"),i.textContent=t,a.appendChild(i);const u=document.createElement("div");u.classList.add("task-details"),u.textContent=n,a.appendChild(u);const m=document.createElement("div");m.classList.add("date"),m.textContent=c,s.appendChild(m);const p=document.createElement("div");p.classList.add("list-right"),s.appendChild(p);const h=f("star_outline");h.classList.add("star-outline"),p.appendChild(h);const y=f("star");y.classList.add("important"),p.appendChild(y),d?h.classList.add("list-hidden"):y.classList.add("list-hidden");const L=document.createElement("div");L.dataset.dropdown="",L.classList.add("edit-codatentainer"),p.appendChild(L);const g=f("more_vert");g.dataset.dropdownButton="",L.appendChild(g)}let u=localStorage.getItem("myProjectList");function m(){localStorage.setItem("myProjectList",JSON.stringify(u)),localStorage.setItem("currentId",r.toString())}function p(e,t){const n=document.querySelector(".project"),c=document.querySelector("#project-form"),o=document.createElement("div");o.setAttribute("data-project",`${e}`),o.classList.add("tile","data-tile"),n.insertBefore(o,c);const d=f("menu");d.setAttribute("data-drag",""),o.appendChild(d);const l=document.createElement("div");l.classList.add("project-info"),o.appendChild(l);const s=document.createElement("div");s.classList.add("project-name"),s.textContent=t,l.appendChild(s);const r=document.createElement("div");r.classList.add("edit-container"),r.setAttribute("data-dropdown",""),o.appendChild(r);const a=f("more_vert");a.setAttribute("data-dropdown-button",""),r.appendChild(a)}function f(e){const t=document.createElement("span");return t.classList.add("material-icons-round"),t.textContent=e,t}u=JSON.parse(u||JSON.stringify([]));const h=()=>document.querySelectorAll("[data-project]").length;const y=(e,t)=>{const n=[];return{dataProject:e,name:t,taskList:n,taskNum:n.length}};function L(){const e=document.querySelector("#project-form");document.querySelector("#project-input").value="",e.classList.add("hidden")}function g(e){document.querySelector(".selected").classList.remove("selected"),e.classList.add("selected")}document.querySelector(".project-cancel-btn").addEventListener("click",L),document.querySelector("#add-project").addEventListener("click",(function(){document.getElementById("project-form").classList.remove("hidden"),document.getElementById("project-input").focus()})),document.querySelector("#project-form").addEventListener("submit",(function(e){e.preventDefault();let t=document.querySelector("#project-input").value,n=h();const c=y(n,t);u.push(c),m(),p(n,t),L()})),document.querySelector(".left-panel").addEventListener("click",(function(e){let t=e.target.closest(".home .tile"),n=e.target.closest(".project .tile");if(null!=t){const e=t.querySelector("[data-name]");g(t),c(),a(e),document.querySelector("#add-list").classList.add("hidden")}else{if(null==n)return;{const e=n.querySelector(".project-name");let t=n.dataset.project;c(),function(e){document.querySelector("ul").textContent="",u[e].taskList.forEach((e=>{i(e.id,e.title,e.details,e.date,e.completed,e.important)}))}(t),g(n),a(e),document.getElementById("add-list").classList.remove("hidden")}}})),u.forEach((e=>{p(e.dataProject,e.name)})),document.querySelector("#add-list").addEventListener("click",(function(){document.querySelector("#list-form").classList.remove("hidden"),document.querySelector("#list-input").focus()})),document.querySelector(".list-cancel-btn").addEventListener("click",s),document.querySelector("#list-form").addEventListener("submit",(function(e){e.preventDefault();let t=document.querySelector("#list-input").value,n=document.querySelector("#list-input-detail").value,c=document.querySelector("#list-input-date").value,o=document.querySelector(".selected").dataset.project,d=function(e){let t;return t=e||"No due date",t}(c),l=r;const a=function(e,t,n,c,o,d,l){return{dataProject:e,id:t,title:n,details:c,completed:!1,important:!1,date:l}}(o,l,t,n,0,0,d);u[o].taskList.push(a),r++,m(),i(l,t,n,d),s()})),document.querySelector(".list-todo").addEventListener("click",(function(e){let t=e.target.matches(".star-outline"),n=e.target.matches(".unchecked");e.target.matches(".list-submit-btn"),e.target.matches(".list-cancel-btn"),e.target.matches("#list-delete"),e.target.matches("#list-edit")&&console.log("Yes that is true"),t?(function(e){e.target.classList.toggle("list-hidden"),e.target.nextElementSibling.classList.toggle("list-hidden")}(e),function(e){let t=l(e.target.closest("li").id);t.important=!t.important,m()}(e)):n&&(function(e){let t=e.target,n=e.target.closest("li").querySelector(".list-details");n.classList.toggle("line-through"),n.classList.toggle("fade"),t.classList.toggle("checked")}(e),function(e){let t=l(e.target.closest("li").id);t.completed=!t.completed,m()}(e))})),function(){document.addEventListener("click",e);const c=document.querySelector(".project .option");c.firstElementChild.addEventListener("click",t),c.lastElementChild.addEventListener("click",n),document.querySelector(".rename-rename-btn").addEventListener("click",(e=>{!function(e){e.preventDefault();const t=document.querySelector(".project .tile.hidden");let n=document.querySelector(".project-rename-input").value;const c=t.querySelector(".project-name");c.textContent=n;let l=t.dataset.project;u[l].name=n,m(),d(),a(c),o()}(e),e.preventDefault()})),document.querySelector(".rename-cancel-btn").addEventListener("click",(()=>{o(),d()}))}(),document.querySelector(".hidden-menu").addEventListener("click",(()=>{document.querySelector(".left-panel").classList.toggle("hidden")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBdUJBLFNBQVNBLEVBQWFDLEdBQ2xCLE1BQU1DLEVBQW1CRCxFQUFFRSxPQUFPQyxRQUFRLDBCQUMxQyxJQUFLRixHQUEyRCxNQUF2Q0QsRUFBRUUsT0FBT0UsUUFBUSxtQkFDdEMsT0FFSixJQUFJQyxFQUNBSixJQXNFUixTQUF3QkQsR0FDcEIsTUFBTU0sRUFBZ0JOLEVBQUVFLE9BQU9FLFFBQVEsbUJBRXZDLEdBQWlDLE1BQTdCSixFQUFFRSxPQUFPRSxRQUFRLFNBQWtCLENBQ25DLE1BQU1HLEVBQWdCQyxTQUFTQyxjQUFjLG1CQUM3Q0YsRUFBY0csVUFBVUMsT0FBTyxVQUMvQkwsRUFBY00sWUFBWUwsRUFDOUIsTUFBTyxHQUE4QixNQUExQlAsRUFBRUUsT0FBT0UsUUFBUSxNQUFlLENBQ3ZDLE1BQU1TLEVBQWFMLFNBQVNNLGVBQWUsZUFDM0NELEVBQVdILFVBQVVDLE9BQU8sVUFDNUJMLEVBQWNNLFlBQVlDLEVBQzlCLENBRUosQ0FsRlFFLENBQWVmLEdBQ2ZLLEVBQWtCTCxFQUFFRSxPQUFPRSxRQUFRLG1CQUNuQ1ksWUFBVyxXQUNQWCxFQUFnQkssVUFBVU8sT0FBTyxTQUNyQyxHQUFHLElBR1BULFNBQVNVLGlCQUFpQiwwQkFBMEJDLFNBQVFDLElBRXBEQSxJQUFhZixHQUdqQmUsRUFBU1YsVUFBVUMsT0FBTyxTQUFTLEdBRTNDLENBRUEsU0FBU1UsRUFBZXJCLEdBQ3BCLElBQUlzQixFQUFvQnRCLEVBQUVFLE9BQU9xQixXQUFXQSxXQUN4Q0MsRUFBV0YsRUFBa0JDLFlBZ0JyQyxTQUFzQkQsR0FDbEJBLEVBQWtCWixVQUFVQyxPQUFPLFNBQ3ZDLENBaEJJYyxDQUFhSCxJQUVJLElBK0RFZCxTQUFTQyxjQUFjLGdCQUUzQkMsVUFBVWdCLFNBQVMsWUFoRTlCQyxJQUNBQyxLQStFUixTQUE0QkosR0FDeEIsTUFBTUssRUFBY0wsRUFBU0QsV0FDdkJPLEVBQWF0QixTQUFTTSxlQUFlLGVBRzNDLElBQUlpQixFQURhUCxFQUFTZixjQUFjLGlCQUNwQnVCLFlBRU5GLEVBQVdyQixjQUFjLFNBQ2pDd0IsTUFBUUYsRUFFZEYsRUFBWUssYUFBYUosRUFBWU4sRUFDekMsQ0F2RklXLENBQW1CWCxHQXlGdkIsV0FDSSxNQUFNWSxFQUFPNUIsU0FBU0MsY0FBYyxnQkFFcENPLFlBQVcsS0FDUG9CLEVBQUsxQixVQUFVQyxPQUFPLFNBQVMsR0FDaEMsRUFDUCxDQTlGSTBCLEdBRUE3QixTQUFTQyxjQUFjLHlCQUF5QjZCLFFBQ2hEZCxFQUFTZCxVQUFVNkIsSUFBSSxTQUMzQixDQU1BLFNBQVNDLEVBQWN4QyxHQUNuQixJQUFJeUMsRUFBT3pDLEVBQUVFLE9BQU9FLFFBQVEsU0FDeEJzQyxFQUFRRCxFQUFLRSxRQUFRQyxRQUV6QixHQUFJSCxFQUFLL0IsVUFBVWdCLFNBQVMsWUFBYSxDQUNyQyxNQUFNbUIsRUFBUXJDLFNBQVNDLGNBQWMsVUFDL0JxQyxFQUFXRCxFQUFNcEMsY0FBYyxlQUVyQ29DLEVBQU1uQyxVQUFVNkIsSUFBSSxZQUNwQlEsRUFBWUQsRUFDaEIsQ0FFQUUsSUFDQVAsRUFBSzlCLFNBK0ZULFdBQ0ksSUFBSXNDLEVBQUksRUFDTXpDLFNBQVNVLGlCQUFpQixrQkFDbENDLFNBQVNzQixJQUNYLElBQUlTLEVBQVVULEVBQUtFLFFBQVFDLFFBQzNCSCxFQUFLRSxRQUFRQyxRQUFVSyxFQUN2QkUsRUFBWUQsR0FBU0UsWUFBY0gsRUFDbkNBLEdBQUcsSUFHUEUsRUFBWUUsTUFBSyxDQUFDQyxFQUFHQyxJQUFNRCxFQUFFRixZQUFjRyxFQUFFSCxjQUM3Q0ksR0FFSixDQTNHSUMsR0FDQU4sRUFBWU8sT0FBT2hCLEVBQU8sR0FDMUJjLEdBQ0osQ0FFQSxTQUFTUixJQUNMLE1BQU16QyxFQUFnQkMsU0FBU00sZUFBZSxrQkFDOUNQLEVBQWNHLFVBQVU2QixJQUFJLFVBQ1ovQixTQUFTQyxjQUFjLFlBQy9CRyxZQUFZTCxHQUVwQixNQUFNTSxFQUFhTCxTQUFTQyxjQUFjLGdCQUMxQ0ksRUFBV0gsVUFBVTZCLElBQUksVUFDUi9CLFNBQVNDLGNBQWMsY0FDL0JHLFlBQVlDLEVBQ3pCLENBNEJBLFNBQVNjLElBQ0wsTUFBTUcsRUFBYXRCLFNBQVNNLGVBQWUsZUFDckM4QixFQUFVcEMsU0FBU0MsY0FBYyxZQUV2Q3FCLEVBQVdwQixVQUFVNkIsSUFBSSxVQUN6QkssRUFBUWhDLFlBQVlrQixFQUN4QixDQXdDQSxTQUFTRixJQUNjcEIsU0FBU0MsY0FBYyxjQUMvQkMsVUFBVUMsT0FBTyxTQUNoQyxDQ2xJQSxTQUFTZ0QsRUFBaUJDLEdBU3RCLE9BUm1CVCxFQUFZVSxRQUFPLENBQUNDLEVBQUtsQixLQUN4QyxJQUFJbUIsRUFBY25CLEVBQVFvQixTQUFTQyxNQUFLQyxHQUFRQSxFQUFLQyxJQUFNUCxJQUkzRCxPQUhtQixNQUFmRyxJQUNBRCxFQUFNQyxHQUVIRCxDQUFHLEdBQ1gsQ0FBQyxFQUdSLENDa0JBLFNBQVNNLElBQ0wsTUFBTUMsRUFBVzdELFNBQVNDLGNBQWMsY0FDbEM2RCxFQUFZOUQsU0FBU0MsY0FBYyxlQUNuQzhELEVBQWtCL0QsU0FBU0MsY0FBYyxzQkFDekMrRCxFQUFnQmhFLFNBQVNDLGNBQWMsb0JBRTdDNEQsRUFBUzNELFVBQVU2QixJQUFJLFVBQ3ZCK0IsRUFBVXJDLE1BQVEsR0FDbEJzQyxFQUFnQnRDLE1BQVEsR0FDeEJ1QyxFQUFjdkMsTUFBUSxFQUMxQixDQUVBLElBQ0lrQyxFQUFLTSxPQUFPQyxhQUFhQyxRQUFRLGVBRHJCLEVBOEJoQixTQUFTNUIsRUFBWUQsR0FDSHRDLFNBQVNDLGNBQWMsVUFDL0J1QixZQUFjYyxFQUFTZCxXQUNqQyxDQU1BLFNBQVM0QyxFQUFRaEIsRUFBUWlCLEVBQU9DLEVBQVNDLEVBQU1DLEVBQVdDLEdBQ3RELE1BQU1DLEVBQUsxRSxTQUFTQyxjQUFjLE1BQzVCMEUsRUFBSzNFLFNBQVM0RSxjQUFjLE1BQ2xDRCxFQUFHaEIsR0FBS1AsRUFDUnNCLEVBQUd0RSxZQUFZdUUsR0FFZixNQUFNRSxFQUFZN0UsU0FBUzRFLGNBQWMsT0FDekNDLEVBQVUzRSxVQUFVNkIsSUFBSSxhQUN4QjRDLEVBQUd2RSxZQUFZeUUsR0FFZixNQUFNQyxFQUFjOUUsU0FBUzRFLGNBQWMsT0FDM0NFLEVBQVk1RSxVQUFVNkIsSUFBSSxnQkFDMUI0QyxFQUFHdkUsWUFBWTBFLEdBRVhOLElBQ0FLLEVBQVUzRSxVQUFVTyxPQUFPLFdBQzNCcUUsRUFBWTVFLFVBQVVPLE9BQU8sZ0JBQzdCcUUsRUFBWTVFLFVBQVVPLE9BQU8sU0FHakMsTUFBTXNFLEVBQVkvRSxTQUFTNEUsY0FBYyxPQUN6Q0csRUFBVTdFLFVBQVU2QixJQUFJLGNBQ3hCZ0QsRUFBVXZELFlBQWM2QyxFQUN4QlMsRUFBWTFFLFlBQVkyRSxHQUV4QixNQUFNQyxFQUFjaEYsU0FBUzRFLGNBQWMsT0FDM0NJLEVBQVk5RSxVQUFVNkIsSUFBSSxnQkFDMUJpRCxFQUFZeEQsWUFBYzhDLEVBQzFCUSxFQUFZMUUsWUFBWTRFLEdBRXhCLE1BQU1DLEVBQVVqRixTQUFTNEUsY0FBYyxPQUN2Q0ssRUFBUS9FLFVBQVU2QixJQUFJLFFBQ3RCa0QsRUFBUXpELFlBQWMrQyxFQUN0QkksRUFBR3ZFLFlBQVk2RSxHQUVmLE1BQU1DLEVBQVlsRixTQUFTNEUsY0FBYyxPQUN6Q00sRUFBVWhGLFVBQVU2QixJQUFJLGNBQ3hCNEMsRUFBR3ZFLFlBQVk4RSxHQUVmLE1BQU1DLEVBQWNDLEVBQWUsZ0JBQ25DRCxFQUFZakYsVUFBVTZCLElBQUksZ0JBQzFCbUQsRUFBVTlFLFlBQVkrRSxHQUV0QixNQUFNRSxFQUFPRCxFQUFlLFFBQzVCQyxFQUFLbkYsVUFBVTZCLElBQUksYUFDbkJtRCxFQUFVOUUsWUFBWWlGLEdBRWxCWixFQUNBVSxFQUFZakYsVUFBVTZCLElBQUksZUFFMUJzRCxFQUFLbkYsVUFBVTZCLElBQUksZUFHdkIsTUFBTWpDLEVBQWdCRSxTQUFTNEUsY0FBYyxPQUM3QzlFLEVBQWNxQyxRQUFRdkIsU0FBVyxHQUNqQ2QsRUFBY0ksVUFBVTZCLElBQUksc0JBQzVCbUQsRUFBVTlFLFlBQVlOLEdBRXRCLE1BQU13RixFQUFZRixFQUFlLGFBQ2pDRSxFQUFVbkQsUUFBUW9ELGVBQWlCLEdBQ25DekYsRUFBY00sWUFBWWtGLEVBRTlCLENDOUpBLElBQ0kzQyxFQUFjdUIsYUFBYUMsUUFBUSxpQkFvQnZDLFNBQVNuQixJQUNMa0IsYUFBYXNCLFFBQVEsZ0JBQWlCQyxLQUFLQyxVQUFVL0MsSUFDckR1QixhQUFhc0IsUUFBUSxZQUFhLGFBR3RDLENBU0EsU0FBU0csRUFBVy9DLEVBQWFnRCxHQUM3QixNQUFNeEQsRUFBVXBDLFNBQVNDLGNBQWMsWUFDakMyQixFQUFPNUIsU0FBU0MsY0FBYyxpQkFFOUI0RixFQUFZN0YsU0FBUzRFLGNBQWMsT0FDekNpQixFQUFVQyxhQUFhLGVBQWdCLEdBQUdsRCxLQUMxQ2lELEVBQVUzRixVQUFVNkIsSUFBSSxPQUFRLGFBQ2hDSyxFQUFRVixhQUFhbUUsRUFBV2pFLEdBR2hDLE1BQU1tRSxFQUFXWCxFQUFlLFFBQ2hDVyxFQUFTRCxhQUFhLFlBQWEsSUFDbkNELEVBQVV6RixZQUFZMkYsR0FFdEIsTUFBTUMsRUFBY2hHLFNBQVM0RSxjQUFjLE9BQzNDb0IsRUFBWTlGLFVBQVU2QixJQUFJLGdCQUMxQjhELEVBQVV6RixZQUFZNEYsR0FFdEIsTUFBTUMsRUFBY2pHLFNBQVM0RSxjQUFjLE9BQzNDcUIsRUFBWS9GLFVBQVU2QixJQUFJLGdCQUMxQmtFLEVBQVl6RSxZQUFjb0UsRUFFMUJJLEVBQVk1RixZQUFZNkYsR0FFeEIsTUFBTUMsRUFBVWxHLFNBQVM0RSxjQUFjLE9BQ3ZDc0IsRUFBUWhHLFVBQVU2QixJQUFJLGtCQUN0Qm1FLEVBQVFKLGFBQWEsZ0JBQWlCLElBQ3RDRCxFQUFVekYsWUFBWThGLEdBRXRCLE1BQU1DLEVBQVdmLEVBQWUsYUFDaENlLEVBQVNMLGFBQWEsdUJBQXdCLElBQzlDSSxFQUFROUYsWUFBWStGLEVBRXhCLENBRUEsU0FBU2YsRUFBZTdELEdBQ3BCLE1BQU02RSxFQUFPcEcsU0FBUzRFLGNBQWMsUUFHcEMsT0FGQXdCLEVBQUtsRyxVQUFVNkIsSUFBSSx3QkFDbkJxRSxFQUFLNUUsWUFBY0QsRUFDWjZFLENBQ1gsQ0F4RUF6RCxFQUFjOEMsS0FBS1ksTUFBTTFELEdBQWU4QyxLQUFLQyxVQUhwQixLQThFekIsTUFBTVksRUFBa0IsSUFDQXRHLFNBQVNVLGlCQUFpQixrQkFDM0I2RixPQXNDdkIsTUFBTUMsRUFBZ0IsQ0FBQzVELEVBQWFyQixLQUNoQyxNQUFNaUMsRUFBVyxHQUVqQixNQUFPLENBQ0haLGNBQ0FyQixPQUNBaUMsV0FDQWlELFFBTFlqRCxFQUFTK0MsT0FNekIsRUFZSixTQUFTRyxJQUNMLE1BQU1DLEVBQWMzRyxTQUFTQyxjQUFjLGlCQUN0QkQsU0FBU0MsY0FBYyxrQkFFL0J3QixNQUFRLEdBQ3JCa0YsRUFBWXpHLFVBQVU2QixJQUFJLFNBQzlCLENBRUEsU0FBUzZFLEVBQVdDLEdBQ0s3RyxTQUFTQyxjQUFjLGFBRS9CQyxVQUFVQyxPQUFPLFlBQzlCMEcsRUFBSzNHLFVBQVU2QixJQUFJLFdBRXZCLENBM0ttQi9CLFNBQVNDLGNBQWMsdUJBQy9CNkcsaUJBQWlCLFFBQVNKLEdBRXJCMUcsU0FBU0MsY0FBYyxnQkFDL0I2RyxpQkFBaUIsU0FrSnpCLFdBQ3dCOUcsU0FBU00sZUFBZSxnQkFDaENKLFVBQVVDLE9BQU8sVUFFN0JILFNBQVNNLGVBQWUsaUJBQWlCd0IsT0FDN0MsSUFySm1COUIsU0FBU0MsY0FBYyxpQkFDL0I2RyxpQkFBaUIsVUFrQjVCLFNBQTZCdEgsR0FDekJBLEVBQUV1SCxpQkFDRixJQUFJZCxFQUFjakcsU0FBU0MsY0FBYyxrQkFBa0J3QixNQUN2RG1CLEVBQWMwRCxJQUNsQixNQUFNVSxFQUFhUixFQUFjNUQsRUFBYXFELEdBRTlDdEQsRUFBWXNFLEtBQUtELEdBQ2pCaEUsSUFFQTJDLEVBQVcvQyxFQUFhcUQsR0FDeEJTLEdBRUosSUE1QnNCMUcsU0FBU0MsY0FBYyxlQUMvQjZHLGlCQUFpQixTQW1HL0IsU0FBbUJ0SCxHQUNmLElBQUkwSCxFQUFXMUgsRUFBRUUsT0FBT0UsUUFBUSxlQUM1QnVILEVBQWMzSCxFQUFFRSxPQUFPRSxRQUFRLGtCQUduQyxHQUFnQixNQUFac0gsRUFBa0IsQ0FDbEIsTUFBTTdDLEVBQVE2QyxFQUFTakgsY0FBYyxlQUNyQzJHLEVBQVdNLEdBQ1gxRSxJQUVBRCxFQUFZOEIsR0FmR3JFLFNBQVNDLGNBQWMsYUFDL0JDLFVBQVU2QixJQUFJLFNBZ0J6QixLQUFPLElBQW1CLE1BQWZvRixFQVdQLE9BWDRCLENBQzVCLE1BQU05QyxFQUFROEMsRUFBWWxILGNBQWMsaUJBQ3hDLElBQUkyQyxFQUFjdUUsRUFBWWhGLFFBQVFDLFFBRXRDSSxJRDNCUixTQUFxQkksR0FDTjVDLFNBQVNDLGNBQWMsTUFDL0J1QixZQUFjLEdBQ2pCbUIsRUFBWUMsR0FBYVksU0FBUzdDLFNBQVErQyxJQUN0Q1UsRUFBUVYsRUFBS0MsR0FBSUQsRUFBS1csTUFBT1gsRUFBS1ksUUFBU1osRUFBS2EsS0FBTWIsRUFBS2MsVUFBV2QsRUFBS2UsVUFBVSxHQUU3RixDQ3VCUTJDLENBQVl4RSxHQUNaZ0UsRUFBV08sR0FDWDVFLEVBQVk4QixHQThDR3JFLFNBQVNNLGVBQWUsWUFDaENKLFVBQVVDLE9BQU8sU0E3QzVCLENBRUEsQ0FFSixJQTFIbUJ3QyxFQW9DVGhDLFNBQVF5QixJQUNWdUQsRUFBV3ZELEVBQVFRLFlBQWFSLEVBQVFiLEtBQUssSUQ1Q2pDdkIsU0FBU0MsY0FBYyxhQUMvQjZHLGlCQUFpQixTQWtEN0IsV0FDcUI5RyxTQUFTQyxjQUFjLGNBQy9CQyxVQUFVQyxPQUFPLFVBQzFCSCxTQUFTQyxjQUFjLGVBQWU2QixPQUMxQyxJQXBEbUI5QixTQUFTQyxjQUFjLG9CQUMvQjZHLGlCQUFpQixRQUFTbEQsR0FFZDVELFNBQVNDLGNBQWMsY0FDL0I2RyxpQkFBaUIsVUFrRWhDLFNBQTBCdEgsR0FDdEJBLEVBQUV1SCxpQkFDRixJQUFJMUMsRUFBUXJFLFNBQVNDLGNBQWMsZUFBZXdCLE1BQzlDNkMsRUFBVXRFLFNBQVNDLGNBQWMsc0JBQXNCd0IsTUFDdkQ0RixFQUFZckgsU0FBU0MsY0FBYyxvQkFBb0J3QixNQUV2RG1CLEVBMEdhNUMsU0FBU0MsY0FBYyxhQUN4QmtDLFFBQVFDLFFBMUdwQm1DLEVBNkZSLFNBQXlCQSxHQUNyQixJQUFJK0MsRUFPSixPQUhJQSxFQUhDL0MsR0FDZSxjQUtiK0MsQ0FDWCxDQXRHZUMsQ0FBZ0JGLEdBQ3ZCRyxFQUFTN0QsRUFFYixNQUFNOEQsRUF0RVYsU0FBb0I3RSxFQUFhZSxFQUFJVSxFQUFPQyxFQUFTRSxFQUFXQyxFQUFXRixHQUN2RSxNQUFPLENBQ0gzQixjQUNBZSxLQUNBVSxRQUNBQyxVQUNBRSxXQWdFNEQsRUEvRDVEQyxXQStEbUUsRUE5RG5FRixLQUFNQSxFQUVkLENBNERvQm1ELENBQVc5RSxFQUFhNEUsRUFBUW5ELEVBQU9DLEVBQVMsRUFBTyxFQUFPQyxHQUM5RTVCLEVBQVlDLEdBQWFZLFNBQVN5RCxLQUFLUSxHQUN2QzlELElBQ0FYLElBRUFvQixFQUFRb0QsRUFBUW5ELEVBQU9DLEVBQVNDLEdBQ2hDWCxHQUNKLElBakZxQjVELFNBQVNDLGNBQWMsY0FDL0I2RyxpQkFBaUIsU0FlOUIsU0FBd0J0SCxHQUNwQixJQUFJbUksRUFBYW5JLEVBQUVFLE9BQU9DLFFBQVEsaUJBQzlCaUksRUFBZXBJLEVBQUVFLE9BQU9DLFFBQVEsY0FFZEgsRUFBRUUsT0FBT0MsUUFBUSxvQkFDaEJILEVBQUVFLE9BQU9DLFFBQVEsb0JBRXRCSCxFQUFFRSxPQUFPQyxRQUFRLGdCQUNuQkgsRUFBRUUsT0FBT0MsUUFBUSxlQUc3QmtJLFFBQVFDLElBQUksb0JBR1pILEdEL0JSLFNBQTRCbkksR0FDTkEsRUFBRUUsT0FDUlEsVUFBVU8sT0FBTyxlQUVaakIsRUFBRUUsT0FBT3FJLG1CQUNmN0gsVUFBVU8sT0FBTyxjQUVoQyxDQ3lCUXVILENBQW1CeEksR0R2QjNCLFNBQTZCQSxHQUN6QixJQUNJeUksRUFBZTlFLEVBRE4zRCxFQUFFRSxPQUFPRSxRQUFRLE1BQU0rRCxJQUVwQ3NFLEVBQWF4RCxXQUFhd0QsRUFBYXhELFVBQ3ZDekIsR0FDSixDQ21CUWtGLENBQW9CMUksSUFDYm9JLElEbkRmLFNBQTRCcEksR0FDeEIsSUFBSTJJLEVBQWdCM0ksRUFBRUUsT0FFbEJvRixFQURXdEYsRUFBRUUsT0FBT0UsUUFBUSxNQUNMSyxjQUFjLGlCQUN6QzZFLEVBQVk1RSxVQUFVTyxPQUFPLGdCQUM3QnFFLEVBQVk1RSxVQUFVTyxPQUFPLFFBQzdCMEgsRUFBY2pJLFVBQVVPLE9BQU8sVUFFbkMsQ0M0Q1EySCxDQUFtQjVJLEdEMUMzQixTQUE2QkEsR0FDekIsSUFDSXlJLEVBQWU5RSxFQUROM0QsRUFBRUUsT0FBT0UsUUFBUSxNQUFNK0QsSUFFcENzRSxFQUFhekQsV0FBYXlELEVBQWF6RCxVQUN2Q3hCLEdBQ0osQ0NzQ1FxRixDQUFvQjdJLEdBRTVCLElGekRBLFdBQ0lRLFNBQVM4RyxpQkFBaUIsUUFBU3ZILEdBRW5DLE1BQU0rSSxFQUFTdEksU0FBU0MsY0FBYyxvQkFDdENxSSxFQUFPQyxrQkFBa0J6QixpQkFBaUIsUUFBU2pHLEdBQ25EeUgsRUFBT0UsaUJBQWlCMUIsaUJBQWlCLFFBQVM5RSxHQUU1QmhDLFNBQVNDLGNBQWMsc0JBQy9CNkcsaUJBQWlCLFNBQVV0SCxLQStJN0MsU0FBNEJBLEdBQ3hCQSxFQUFFdUgsaUJBQ0YsTUFBTS9GLEVBQVdoQixTQUFTQyxjQUFjLHlCQUN4QyxJQUFJd0ksRUFBY3pJLFNBQVNDLGNBQWMseUJBQXlCd0IsTUFDbEUsTUFBTXdFLEVBQWNqRixFQUFTZixjQUFjLGlCQUMzQ2dHLEVBQVl6RSxZQUFjaUgsRUFFMUIsSUFBSS9GLEVBQVUxQixFQUFTbUIsUUFBUUMsUUFFL0JPLEVBQVlELEdBQVNuQixLQUFPa0gsRUFDNUJ6RixJQUVBNUIsSUFDQW1CLEVBQVkwRCxHQUNaOUUsR0FDSixDQTdKUXVILENBQW1CbEosR0FDbkJBLEVBQUV1SCxnQkFBZ0IsSUFHQS9HLFNBQVNDLGNBQWMsc0JBQy9CNkcsaUJBQWlCLFNBQVMsS0FDcEMzRixJQUNBQyxHQUF1QixHQUUvQixDSWRBdUgsR0FFbUIzSSxTQUFTQyxjQUFjLGdCQUMvQjZHLGlCQUFpQixTQUFTLEtBQ2Y5RyxTQUFTQyxjQUFjLGVBQy9CQyxVQUFVTyxPQUFPLFNBQVMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2VkaXRpbmdQcm9qZWN0LmpzIiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2VkaXRpbmdUYXNrLmpzIiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2NyZWF0aW5nVGFzay5qcyIsIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy9jcmVhdGluZ1Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1hcHAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvamVjdExpc3QsIHNhdmVUb0xvY2FsU3RvcmFnZSB9IGZyb20gXCIuL2NyZWF0aW5nUHJvamVjdFwiXG5pbXBvcnQgeyB1cGRhdGVUaXRsZSB9IGZyb20gXCIuL2NyZWF0aW5nVGFza1wiXG5cbmZ1bmN0aW9uIGVkaXRDb250YWluZXJFdmVudExpc3RlbmVyKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93RHJvcERvd24pO1xuXG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QgLm9wdGlvbicpO1xuICAgIG9wdGlvbi5maXJzdEVsZW1lbnRDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNob3dSZW5hbWVGb3JtKTtcbiAgICBvcHRpb24ubGFzdEVsZW1lbnRDaGlsZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGV0ZVByb2plY3QpO1xuICAgIC8vZXZlbnQgbGlzdGVuZXIgb2YgcmVuYW1lRm9ybSdzIHJlbmFtZSBhbmQgY2FuY2VsIGJ1dHRvbnNcbiAgICBjb25zdCBmb3JtUmVuYW1lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlbmFtZS1yZW5hbWUtYnRuJyk7XG4gICAgZm9ybVJlbmFtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIHByb2Nlc3NSZW5hbWVJbnB1dChlKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZm9ybUNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZW5hbWUtY2FuY2VsLWJ0bicpO1xuICAgIGZvcm1DYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHJldmVydFJlbmFtZUZvcm1Mb2NhdGlvbigpO1xuICAgICAgICBkaXNwbGF5UmVuYW1lZFByb2plY3QoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gc2hvd0Ryb3BEb3duKGUpIHtcbiAgICBjb25zdCBpc0Ryb3BEb3duQnV0dG9uID0gZS50YXJnZXQubWF0Y2hlcygnW2RhdGEtZHJvcGRvd24tYnV0dG9uXScpO1xuICAgIGlmICghaXNEcm9wRG93bkJ1dHRvbiAmJiBlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1kcm9wZG93bl0nKSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnREcm9wRG93bjtcbiAgICBpZiAoaXNEcm9wRG93bkJ1dHRvbikge1xuICAgICAgICByZWxvY2F0ZU9wdGlvbihlKTtcbiAgICAgICAgY3VycmVudERyb3BEb3duID0gZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtZHJvcGRvd25dJyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdXJyZW50RHJvcERvd24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWRyb3Bkb3duXS5hY3RpdmUnKS5mb3JFYWNoKGRyb3Bkb3duID0+IHtcbiAgICAgICAgLy9pZiBjbGljayBhbnl3aGVyZSBlbHNlIGN1cnJlbnREcm9wRG93biA9IHVuZGVmaW5lZCBtZWFuaW5nIGFsbCBhY3RpdmUgb25lcyBhcmUgY2xvc2VkXG4gICAgICAgIGlmIChkcm9wZG93biA9PT0gY3VycmVudERyb3BEb3duKSB7IC8vaWYgaXRzIHRoZSBjdXJyZW50IGJ1dHRvbiB0aGVuIGRvIG50aFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7IC8vYmFzaWNhbGx5IGNsb3NlIGFsbCBkcm9wZG93biBvdGhlciBkcm9wIGRvd24gYmVmb3JlIG9wZW4gYW5vdGhlclxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzaG93UmVuYW1lRm9ybShlKSB7XG4gICAgbGV0IGVkaXRDb250YWluZXJOb2RlID0gZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgIGxldCB0aWxlTm9kZSA9IGVkaXRDb250YWluZXJOb2RlLnBhcmVudE5vZGU7XG5cbiAgICBoaWRlRHJvcERvd24oZWRpdENvbnRhaW5lck5vZGUpO1xuICAgIGxldCBoYXZlRm9ybSA9IGNoZWNrRm9ybUV4aXN0KCk7XG4gICAgaWYgKGhhdmVGb3JtID09PSB0cnVlKSB7XG4gICAgICAgIHJldmVydFJlbmFtZUZvcm1Mb2NhdGlvbigpO1xuICAgICAgICBkaXNwbGF5UmVuYW1lZFByb2plY3QoKTtcbiAgICB9XG5cbiAgICByZWxvY2F0ZVJlbmFtZUZvcm0odGlsZU5vZGUpO1xuICAgIGFuaW1hdGVSZW5hbWVGb3JtKCk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1yZW5hbWUtaW5wdXQnKS5mb2N1cygpO1xuICAgIHRpbGVOb2RlLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG59XG5cbmZ1bmN0aW9uIGhpZGVEcm9wRG93bihlZGl0Q29udGFpbmVyTm9kZSkge1xuICAgIGVkaXRDb250YWluZXJOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xufVxuXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0KGUpIHtcbiAgICBsZXQgdGlsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy50aWxlJyk7XG4gICAgbGV0IGluZGV4ID0gdGlsZS5kYXRhc2V0LnByb2plY3Q7XG5cbiAgICBpZiAodGlsZS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RvZGF5XCIpO1xuICAgICAgICBjb25zdCBuYW1lTm9kZSA9IHRvZGF5LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1uYW1lXVwiKTtcblxuICAgICAgICB0b2RheS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIHVwZGF0ZVRpdGxlKG5hbWVOb2RlKTtcbiAgICB9XG5cbiAgICByZXZlcnRPcHRpb25Mb2NhdGlvbihlKTtcbiAgICB0aWxlLnJlbW92ZSgpO1xuICAgIHNvcnRBcnJheSgpO1xuICAgIHByb2plY3RMaXN0LnNwbGljZShpbmRleCwgMSk7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG59XG5cbmZ1bmN0aW9uIHJldmVydE9wdGlvbkxvY2F0aW9uKCkge1xuICAgIGNvbnN0IHByb2plY3RPcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1vcHRpb24nKTtcbiAgICBwcm9qZWN0T3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdFwiKTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIC8vcmV2ZXJ0IG9wdGlvbiBET00gaW4gcmlnaHQgcGFuZWxcbiAgICBjb25zdCBsaXN0T3B0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXN0LW9wdGlvblwiKTtcbiAgICBsaXN0T3B0aW9uLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgY29uc3QgbGlzdFRvRG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxpc3QtdG9kb1wiKTtcbiAgICBsaXN0VG9Eby5hcHBlbmRDaGlsZChsaXN0T3B0aW9uKTtcbn1cblxuZnVuY3Rpb24gcmVsb2NhdGVPcHRpb24oZSkge1xuICAgIGNvbnN0IGVkaXRDb250YWluZXIgPSBlLnRhcmdldC5jbG9zZXN0KCcuZWRpdC1jb250YWluZXInKTtcblxuICAgIGlmIChlLnRhcmdldC5jbG9zZXN0KCcudGlsZScpICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgcHJvamVjdE9wdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LW9wdGlvbicpO1xuICAgICAgICBwcm9qZWN0T3B0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICBlZGl0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RPcHRpb24pO1xuICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xvc2VzdChcImxpXCIpICE9IG51bGwpIHsgLy9wb3AgdXAgaW4gbGlzdFxuICAgICAgICBjb25zdCBsaXN0T3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaXN0LW9wdGlvblwiKTtcbiAgICAgICAgbGlzdE9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgICAgICBlZGl0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RPcHRpb24pO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBjaGVja0Zvcm1FeGlzdCgpIHtcbiAgICBjb25zdCByZW5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbmFtZS1mb3JtJyk7XG5cbiAgICBpZiAocmVuYW1lRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbi8vcmV2ZXJ0IGZvcm0gYmFjayB0byBpdHMgb3JpZ2luYWwgcG9zdGluZyB1bmRlciAucHJvamVjdFxuZnVuY3Rpb24gcmV2ZXJ0UmVuYW1lRm9ybUxvY2F0aW9uKCkge1xuICAgIGNvbnN0IHJlbmFtZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlbmFtZS1mb3JtXCIpO1xuICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3RcIik7XG5cbiAgICByZW5hbWVGb3JtLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChyZW5hbWVGb3JtKTtcbn1cblxuZnVuY3Rpb24gcmVsb2NhdGVSZW5hbWVGb3JtKHRpbGVOb2RlKSB7XG4gICAgY29uc3QgcHJvamVjdE5vZGUgPSB0aWxlTm9kZS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IHJlbmFtZUZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVuYW1lLWZvcm0nKTtcblxuICAgIGNvbnN0IG5hbWVOb2RlID0gdGlsZU5vZGUucXVlcnlTZWxlY3RvcignLnByb2plY3QtbmFtZScpO1xuICAgIGxldCBuYW1lID0gbmFtZU5vZGUudGV4dENvbnRlbnQ7XG5cbiAgICBjb25zdCBpbnB1dCA9IHJlbmFtZUZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICBpbnB1dC52YWx1ZSA9IG5hbWU7XG5cbiAgICBwcm9qZWN0Tm9kZS5pbnNlcnRCZWZvcmUocmVuYW1lRm9ybSwgdGlsZU5vZGUpO1xufVxuXG5mdW5jdGlvbiBhbmltYXRlUmVuYW1lRm9ybSgpIHtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbmFtZS1mb3JtJyk7XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICB9LCAwKTtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1JlbmFtZUlucHV0KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgdGlsZU5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdCAudGlsZS5oaWRkZW4nKTtcbiAgICBsZXQgcmVuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1yZW5hbWUtaW5wdXQnKS52YWx1ZTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHRpbGVOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LW5hbWUnKTtcbiAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IHJlbmFtZUlucHV0O1xuXG4gICAgbGV0IGRhdGFOdW0gPSB0aWxlTm9kZS5kYXRhc2V0LnByb2plY3Q7XG5cbiAgICBwcm9qZWN0TGlzdFtkYXRhTnVtXS5uYW1lID0gcmVuYW1lSW5wdXQ7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG5cbiAgICBkaXNwbGF5UmVuYW1lZFByb2plY3QoKTtcbiAgICB1cGRhdGVUaXRsZShwcm9qZWN0TmFtZSk7XG4gICAgcmV2ZXJ0UmVuYW1lRm9ybUxvY2F0aW9uKCk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlSZW5hbWVkUHJvamVjdCgpIHtcbiAgICBjb25zdCBoaWRkZW5UaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZGl2LmhpZGRlbicpO1xuICAgIGhpZGRlblRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG59XG5cbmZ1bmN0aW9uIHNvcnRBcnJheSgpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgdGlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdCAudGlsZScpO1xuICAgIHRpbGVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgICAgbGV0IGRhdGFOdW0gPSB0aWxlLmRhdGFzZXQucHJvamVjdDtcbiAgICAgICAgdGlsZS5kYXRhc2V0LnByb2plY3QgPSBpO1xuICAgICAgICBwcm9qZWN0TGlzdFtkYXRhTnVtXS5kYXRhUHJvamVjdCA9IGk7XG4gICAgICAgIGkrKztcbiAgICB9KTtcblxuICAgIHByb2plY3RMaXN0LnNvcnQoKGEsIGIpID0+IGEuZGF0YVByb2plY3QgLSBiLmRhdGFQcm9qZWN0KTtcbiAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcblxufVxuXG5leHBvcnQgeyBlZGl0Q29udGFpbmVyRXZlbnRMaXN0ZW5lciwgc2hvd1JlbmFtZUZvcm0sIGhpZGVEcm9wRG93biwgZGVsZXRlUHJvamVjdCwgcmV2ZXJ0T3B0aW9uTG9jYXRpb24sIHNvcnRBcnJheSB9OyIsImltcG9ydCB7IHByb2plY3RMaXN0LCBzYXZlVG9Mb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi9jcmVhdGluZ1Byb2plY3RcIjtcbmltcG9ydCB7IGhpZGVEcm9wRG93biwgcmV2ZXJ0T3B0aW9uTG9jYXRpb24gfSBmcm9tIFwiLi9lZGl0aW5nUHJvamVjdFwiO1xuaW1wb3J0IHsgZGlzcGxheVRhc2ssIHByb2Nlc3NEYXRlRGF0YSB9IGZyb20gXCIuL2NyZWF0aW5nVGFza1wiO1xuaW1wb3J0IHsgY2hlY2tXaGljaEhvbWVUaWxlIH0gZnJvbSBcIi4vaG9tZVNlY3Rpb25cIjtcblxuZnVuY3Rpb24gc3R5bGVDb21wbGV0ZWRUYXNrKGUpIHtcbiAgICBsZXQgdW5jaGVja2VkTm9kZSA9IGUudGFyZ2V0O1xuICAgIGxldCB0YXNrVGlsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJ2xpJyk7XG4gICAgbGV0IGxpc3REZXRhaWxzID0gdGFza1RpbGUucXVlcnlTZWxlY3RvcignLmxpc3QtZGV0YWlscycpO1xuICAgIGxpc3REZXRhaWxzLmNsYXNzTGlzdC50b2dnbGUoJ2xpbmUtdGhyb3VnaCcpO1xuICAgIGxpc3REZXRhaWxzLmNsYXNzTGlzdC50b2dnbGUoJ2ZhZGUnKTtcbiAgICB1bmNoZWNrZWROb2RlLmNsYXNzTGlzdC50b2dnbGUoJ2NoZWNrZWQnKTtcblxufVxuXG5mdW5jdGlvbiB1cGRhdGVDb21wbGV0ZWRUYXNrKGUpIHtcbiAgICBsZXQgbGlzdElEID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKS5pZDtcbiAgICBsZXQgc2VsZWN0ZWRUYXNrID0gZmluZFNlbGVjdGVkVGFzayhsaXN0SUQpO1xuICAgIHNlbGVjdGVkVGFzay5jb21wbGV0ZWQgPSAhc2VsZWN0ZWRUYXNrLmNvbXBsZXRlZDtcbiAgICBzYXZlVG9Mb2NhbFN0b3JhZ2UoKTtcbn1cblxuZnVuY3Rpb24gc3R5bGVJbXBvcnRhbnRUYXNrKGUpIHtcbiAgICBsZXQgc3Rhck91dGxpbmUgPSBlLnRhcmdldDtcbiAgICBzdGFyT3V0bGluZS5jbGFzc0xpc3QudG9nZ2xlKCdsaXN0LWhpZGRlbicpO1xuXG4gICAgbGV0IHN0YXJGaWxsZWQgPSBlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgc3RhckZpbGxlZC5jbGFzc0xpc3QudG9nZ2xlKCdsaXN0LWhpZGRlbicpO1xuXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUltcG9ydGFudFRhc2soZSkge1xuICAgIGxldCBsaXN0SWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmlkO1xuICAgIGxldCBzZWxlY3RlZFRhc2sgPSBmaW5kU2VsZWN0ZWRUYXNrKGxpc3RJZCk7XG4gICAgc2VsZWN0ZWRUYXNrLmltcG9ydGFudCA9ICFzZWxlY3RlZFRhc2suaW1wb3J0YW50O1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xufVxuXG5cblxuZnVuY3Rpb24gZGVsZXRlVGFzaygpIHtcblxufVxuXG5mdW5jdGlvbiBmaW5kU2VsZWN0ZWRUYXNrKGxpc3RJZCkge1xuICAgIGxldCBzZWxlY3RlZFRhc2sgPSBwcm9qZWN0TGlzdC5yZWR1Y2UoKGFjYywgcHJvamVjdCkgPT4ge1xuICAgICAgICBsZXQgY3VycmVudFRhc2sgPSBwcm9qZWN0LnRhc2tMaXN0LmZpbmQodGFzayA9PiB0YXNrLmlkID09IGxpc3RJZCk7XG4gICAgICAgIGlmIChjdXJyZW50VGFzayAhPSBudWxsKSB7XG4gICAgICAgICAgICBhY2MgPSBjdXJyZW50VGFzaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcblxuICAgIHJldHVybiBzZWxlY3RlZFRhc2s7XG59XG5cbmZ1bmN0aW9uIHNob3dFZGl0Rm9ybSgpIHtcblxufVxuXG5mdW5jdGlvbiByZWxvY2F0ZUVkaXRMaXN0Rm9ybSgpIHtcblxufVxuXG5mdW5jdGlvbiByZXZlcnRFZGl0Rm9ybUxvY2F0aW9uKCkge1xuXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NFZGl0VGFzaygpIHtcblxufVxuXG5mdW5jdGlvbiBzaG93SGlkZGVuVGFzaygpIHtcblxufVxuXG5leHBvcnQge1xuICAgIHN0eWxlQ29tcGxldGVkVGFzayxcbiAgICBzdHlsZUltcG9ydGFudFRhc2ssXG4gICAgdXBkYXRlQ29tcGxldGVkVGFzayxcbiAgICB1cGRhdGVJbXBvcnRhbnRUYXNrLFxuICAgIGRlbGV0ZVRhc2ssXG4gICAgc2hvd0VkaXRGb3JtLFxuICAgIHJlbG9jYXRlRWRpdExpc3RGb3JtLFxuICAgIHJldmVydEVkaXRGb3JtTG9jYXRpb24sXG4gICAgcHJvY2Vzc0VkaXRUYXNrLFxuICAgIHNob3dIaWRkZW5UYXNrXG59IiwiaW1wb3J0IHsgcHJvamVjdExpc3QsIGNyZWF0ZVNwYW5JY29uLCBzYXZlVG9Mb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi9jcmVhdGluZ1Byb2plY3RcIlxuaW1wb3J0IHtcbiAgICBzdHlsZUNvbXBsZXRlZFRhc2ssXG4gICAgdXBkYXRlQ29tcGxldGVkVGFzayxcbiAgICBzdHlsZUltcG9ydGFudFRhc2ssXG4gICAgdXBkYXRlSW1wb3J0YW50VGFzayxcbiAgICBkZWxldGVUYXNrLFxuICAgIHNob3dFZGl0Rm9ybSxcbiAgICByZXZlcnRFZGl0Rm9ybUxvY2F0aW9uLFxuICAgIHByb2Nlc3NFZGl0VGFzayxcbiAgICBzaG93SGlkZGVuVGFza1xufSBmcm9tIFwiLi9lZGl0aW5nVGFza1wiXG5cbmZ1bmN0aW9uIGxpc3RFdmVudCgpIHtcbiAgICBjb25zdCBhZGRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtbGlzdFwiKTtcbiAgICBhZGRMaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93TGlzdEZvcm0pO1xuXG4gICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtY2FuY2VsLWJ0bicpO1xuICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZUxpc3RGb3JtKTtcblxuICAgIGNvbnN0IGxpc3RTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1mb3JtJyk7XG4gICAgbGlzdFN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBwcm9jZXNzTGlzdElucHV0KTtcblxuICAgIGNvbnN0IHRvZG9MaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxpc3QtdG9kbycpO1xuICAgIHRvZG9MaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGVja0xpc3RFdmVudCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRhc2soZGF0YVByb2plY3QsIGlkLCB0aXRsZSwgZGV0YWlscywgY29tcGxldGVkLCBpbXBvcnRhbnQsIGRhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRhUHJvamVjdCxcbiAgICAgICAgaWQsXG4gICAgICAgIHRpdGxlLFxuICAgICAgICBkZXRhaWxzLFxuICAgICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgICAgaW1wb3J0YW50OiBpbXBvcnRhbnQsXG4gICAgICAgIGRhdGU6IGRhdGVcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdEV2ZW50KGUpIHtcbiAgICBsZXQgaXNTdGFySWNvbiA9IGUudGFyZ2V0Lm1hdGNoZXMoJy5zdGFyLW91dGxpbmUnKTtcbiAgICBsZXQgaXNDaXJjbGVJY29uID0gZS50YXJnZXQubWF0Y2hlcygnLnVuY2hlY2tlZCcpO1xuXG4gICAgbGV0IGlzRWRpdFN1Ym1pdEJ0biA9IGUudGFyZ2V0Lm1hdGNoZXMoJy5saXN0LXN1Ym1pdC1idG4nKTtcbiAgICBsZXQgaXNFZGl0VGFza0NhbmNlbCA9IGUudGFyZ2V0Lm1hdGNoZXMoJy5saXN0LWNhbmNlbC1idG4nKTtcblxuICAgIGxldCBpc0RlbGV0ZUJ0biA9IGUudGFyZ2V0Lm1hdGNoZXMoJyNsaXN0LWRlbGV0ZScpO1xuICAgIGxldCBpc0VkaXRCdG4gPSBlLnRhcmdldC5tYXRjaGVzKCcjbGlzdC1lZGl0Jyk7XG5cbiAgICBpZiAoaXNFZGl0QnRuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiWWVzIHRoYXQgaXMgdHJ1ZVwiKTtcbiAgICB9XG5cbiAgICBpZiAoaXNTdGFySWNvbikge1xuICAgICAgICBzdHlsZUltcG9ydGFudFRhc2soZSk7XG4gICAgICAgIHVwZGF0ZUltcG9ydGFudFRhc2soZSk7XG4gICAgfSBlbHNlIGlmIChpc0NpcmNsZUljb24pIHtcbiAgICAgICAgc3R5bGVDb21wbGV0ZWRUYXNrKGUpO1xuICAgICAgICB1cGRhdGVDb21wbGV0ZWRUYXNrKGUpO1xuICAgIH1cbn1cblxuXG5cbi8vcG9wIHVwIHRoZSBhZGQgbGlzdCBmb3JtXG5mdW5jdGlvbiBzaG93TGlzdEZvcm0oKSB7XG4gICAgY29uc3QgbGlzdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1mb3JtJyk7XG4gICAgbGlzdEZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3QtaW5wdXQnKS5mb2N1cygpO1xufVxuXG4vL2hpZGUgdGhlIGFkZCBsaXN0IGZvcm1cbmZ1bmN0aW9uIGhpZGVMaXN0Rm9ybSgpIHtcbiAgICBjb25zdCBsaXN0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0LWZvcm0nKTtcbiAgICBjb25zdCBsaXN0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1pbnB1dCcpO1xuICAgIGNvbnN0IGxpc3RJbnB1dERldGFpbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0LWlucHV0LWRldGFpbCcpO1xuICAgIGNvbnN0IGxpc3RJbnB1dERhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1pbnB1dC1kYXRlJyk7XG5cbiAgICBsaXN0Rm9ybS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBsaXN0SW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIGxpc3RJbnB1dERldGFpbC52YWx1ZSA9IFwiXCI7XG4gICAgbGlzdElucHV0RGF0ZS52YWx1ZSA9IFwiXCI7XG59XG4vL2dldCBpZCBmcm9tIGxvY2FsIHN0b3JhZ2Ugb3IgZ2V0IGEgZGVmYXVsdCBvbmVcbmxldCBkZWZhdWx0SWQgPSAwO1xubGV0IGlkID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudElkXCIpKSB8fCBkZWZhdWx0SWQ7XG5cbmZ1bmN0aW9uIHByb2Nlc3NMaXN0SW5wdXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGlzdC1pbnB1dCcpLnZhbHVlO1xuICAgIGxldCBkZXRhaWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xpc3QtaW5wdXQtZGV0YWlsJykudmFsdWU7XG4gICAgbGV0IGRhdGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsaXN0LWlucHV0LWRhdGUnKS52YWx1ZTtcblxuICAgIGxldCBkYXRhUHJvamVjdCA9IGZpbmRDdXJyZW50RGF0YVByb2plY3QoKTtcbiAgICBsZXQgZGF0ZSA9IHByb2Nlc3NEYXRlRGF0YShkYXRlSW5wdXQpO1xuICAgIGxldCBsaXN0SUQgPSBpZDtcblxuICAgIGNvbnN0IG5ld1Rhc2sgPSBjcmVhdGVUYXNrKGRhdGFQcm9qZWN0LCBsaXN0SUQsIHRpdGxlLCBkZXRhaWxzLCBmYWxzZSwgZmFsc2UsIGRhdGUpO1xuICAgIHByb2plY3RMaXN0W2RhdGFQcm9qZWN0XS50YXNrTGlzdC5wdXNoKG5ld1Rhc2spO1xuICAgIGlkKys7XG4gICAgc2F2ZVRvTG9jYWxTdG9yYWdlKCk7XG5cbiAgICBhZGRUYXNrKGxpc3RJRCwgdGl0bGUsIGRldGFpbHMsIGRhdGUpO1xuICAgIGhpZGVMaXN0Rm9ybSgpO1xufVxuLy9kaXNwYXkgYWxsIHRoZSB0YXNrIGluIGEgcHJvamVjdFxuZnVuY3Rpb24gZGlzcGxheVRhc2soZGF0YVByb2plY3QpIHtcbiAgICBjb25zdCB1bCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG4gICAgdWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIHByb2plY3RMaXN0W2RhdGFQcm9qZWN0XS50YXNrTGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBhZGRUYXNrKHRhc2suaWQsIHRhc2sudGl0bGUsIHRhc2suZGV0YWlscywgdGFzay5kYXRlLCB0YXNrLmNvbXBsZXRlZCwgdGFzay5pbXBvcnRhbnQpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVUaXRsZShuYW1lTm9kZSkge1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRpdGxlJyk7XG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lTm9kZS50ZXh0Q29udGVudDtcbn1cblxuXG5cblxuXG5mdW5jdGlvbiBhZGRUYXNrKGxpc3RJZCwgdGl0bGUsIGRldGFpbHMsIGRhdGUsIGNvbXBsZXRlZCwgaW1wb3J0YW50KSB7XG4gICAgY29uc3QgdWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd1bCcpO1xuICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICBsaS5pZCA9IGxpc3RJZDtcbiAgICB1bC5hcHBlbmRDaGlsZChsaSk7XG5cbiAgICBjb25zdCB1bmNoZWNrZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB1bmNoZWNrZWQuY2xhc3NMaXN0LmFkZCgndW5jaGVja2VkJyk7XG4gICAgbGkuYXBwZW5kQ2hpbGQodW5jaGVja2VkKTtcblxuICAgIGNvbnN0IGxpc3REZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlzdERldGFpbHMuY2xhc3NMaXN0LmFkZCgnbGlzdC1kZXRhaWxzJyk7XG4gICAgbGkuYXBwZW5kQ2hpbGQobGlzdERldGFpbHMpO1xuXG4gICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICB1bmNoZWNrZWQuY2xhc3NMaXN0LnRvZ2dsZSgnY2hlY2tlZCcpO1xuICAgICAgICBsaXN0RGV0YWlscy5jbGFzc0xpc3QudG9nZ2xlKCdsaW5lLXRocm91Z2gnKTtcbiAgICAgICAgbGlzdERldGFpbHMuY2xhc3NMaXN0LnRvZ2dsZSgnZmFkZScpO1xuICAgIH1cblxuICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhc2tUaXRsZS5jbGFzc0xpc3QuYWRkKFwidGFzay10aXRsZVwiKTtcbiAgICB0YXNrVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICBsaXN0RGV0YWlscy5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO1xuXG4gICAgY29uc3QgdGFza0RldGFpbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YXNrRGV0YWlscy5jbGFzc0xpc3QuYWRkKFwidGFzay1kZXRhaWxzXCIpO1xuICAgIHRhc2tEZXRhaWxzLnRleHRDb250ZW50ID0gZGV0YWlscztcbiAgICBsaXN0RGV0YWlscy5hcHBlbmRDaGlsZCh0YXNrRGV0YWlscyk7XG5cbiAgICBjb25zdCBkYXRlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGF0ZURpdi5jbGFzc0xpc3QuYWRkKFwiZGF0ZVwiKTtcbiAgICBkYXRlRGl2LnRleHRDb250ZW50ID0gZGF0ZTtcbiAgICBsaS5hcHBlbmRDaGlsZChkYXRlRGl2KTtcblxuICAgIGNvbnN0IGxpc3RSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGxpc3RSaWdodC5jbGFzc0xpc3QuYWRkKCdsaXN0LXJpZ2h0Jyk7XG4gICAgbGkuYXBwZW5kQ2hpbGQobGlzdFJpZ2h0KTtcblxuICAgIGNvbnN0IHN0YXJPdXRsaW5lID0gY3JlYXRlU3Bhbkljb24oJ3N0YXJfb3V0bGluZScpO1xuICAgIHN0YXJPdXRsaW5lLmNsYXNzTGlzdC5hZGQoJ3N0YXItb3V0bGluZScpO1xuICAgIGxpc3RSaWdodC5hcHBlbmRDaGlsZChzdGFyT3V0bGluZSk7XG5cbiAgICBjb25zdCBzdGFyID0gY3JlYXRlU3Bhbkljb24oJ3N0YXInKTtcbiAgICBzdGFyLmNsYXNzTGlzdC5hZGQoJ2ltcG9ydGFudCcpO1xuICAgIGxpc3RSaWdodC5hcHBlbmRDaGlsZChzdGFyKTtcblxuICAgIGlmIChpbXBvcnRhbnQpIHtcbiAgICAgICAgc3Rhck91dGxpbmUuY2xhc3NMaXN0LmFkZCgnbGlzdC1oaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdGFyLmNsYXNzTGlzdC5hZGQoJ2xpc3QtaGlkZGVuJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZWRpdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGVkaXRDb250YWluZXIuZGF0YXNldC5kcm9wZG93biA9IFwiXCI7XG4gICAgZWRpdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlZGl0LWNvZGF0ZW50YWluZXInKTtcbiAgICBsaXN0UmlnaHQuYXBwZW5kQ2hpbGQoZWRpdENvbnRhaW5lcik7XG5cbiAgICBjb25zdCB0aHJlZURvdHMgPSBjcmVhdGVTcGFuSWNvbignbW9yZV92ZXJ0Jyk7XG4gICAgdGhyZWVEb3RzLmRhdGFzZXQuZHJvcGRvd25CdXR0b24gPSBcIlwiO1xuICAgIGVkaXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhyZWVEb3RzKTtcblxufVxuXG5mdW5jdGlvbiBwcm9jZXNzRGF0ZURhdGEoZGF0ZSkge1xuICAgIGxldCBmb3JtYXR0ZWREYXRlO1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgICBmb3JtYXR0ZWREYXRlID0gXCJObyBkdWUgZGF0ZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdHRlZERhdGUgPSBkYXRlO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXR0ZWREYXRlO1xufVxuLy9mdW5jdGlvbiB0byBmaW5kIHRoZSBkYXRhLXByb2plY3QgaW5kZXggd2hlbiBhZGRpbmcgbmV3IHRhc2tzXG5mdW5jdGlvbiBmaW5kQ3VycmVudERhdGFQcm9qZWN0KCkge1xuICAgIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJyk7XG4gICAgcmV0dXJuIHNlbGVjdGVkLmRhdGFzZXQucHJvamVjdDtcbn1cblxuZXhwb3J0IHsgdXBkYXRlVGl0bGUsIGxpc3RFdmVudCwgZGlzcGxheVRhc2ssIGlkLCBhZGRUYXNrLCBwcm9jZXNzRGF0ZURhdGEgfTsiLCJpbXBvcnQgeyBkaXNwbGF5VGFzaywgdXBkYXRlVGl0bGUsIGlkIH0gZnJvbSBcIi4vY3JlYXRpbmdUYXNrXCI7XG5pbXBvcnQgeyByZXZlcnRFZGl0Rm9ybUxvY2F0aW9uIH0gZnJvbSBcIi4vZWRpdGluZ1Rhc2tcIjtcbmltcG9ydCB7IHJldmVydE9wdGlvbkxvY2F0aW9uIH0gZnJvbSBcIi4vZWRpdGluZ1Byb2plY3RcIjtcbmltcG9ydCB7IGNoZWNrV2hpY2hIb21lVGlsZSB9IGZyb20gXCIuL2hvbWVTZWN0aW9uXCI7XG5cblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRMaXN0ZW5lcigpIHtcbiAgICAvL2V2ZW50IGxpc3Rlcm5lciBmb3IgY3JlYXRpbmcgYSBmb3JtIGZvciBhZGRpbmcgcHJvamVjdHNcbiAgICBjb25zdCBjYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jYW5jZWwtYnRuJyk7XG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlUHJvamVjdEZvcm0pO1xuXG4gICAgY29uc3QgYWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZC1wcm9qZWN0Jyk7XG4gICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93UHJvamVjdEZvcm0pO1xuXG4gICAgY29uc3Qgc3VibWl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtZm9ybScpO1xuICAgIHN1Ym1pdC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBwcm9jZXNzUHJvamVjdElucHV0KTtcblxuICAgIGNvbnN0IGxlZnRQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0LXBhbmVsJyk7XG4gICAgbGVmdFBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tUaWxlKTtcblxuXG4gICAgZGlzcGxheVByb2plY3QocHJvamVjdExpc3QpO1xuXG59XG5cblxuLy9nZXQgcHJvamVjdCBsaXN0IG9mIG9iamVjdHMgZnJvbSBsb2NhayBzdG9yYWdlIG9yIHN0YXJ0IHdpdGggZW1wdHlcbmxldCBkZWZhdWx0UHJvamVjdExpc3QgPSBbXTtcbmxldCBwcm9qZWN0TGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibXlQcm9qZWN0TGlzdFwiKTtcblxucHJvamVjdExpc3QgPSBKU09OLnBhcnNlKHByb2plY3RMaXN0IHx8IEpTT04uc3RyaW5naWZ5KGRlZmF1bHRQcm9qZWN0TGlzdCkpO1xuXG4vL3Byb2Nlc3MgdGhlIGlucHV0IGFuZCBwcmVwYXJlIHRvIGNyZWF0ZSBwcm9qZWN0IGVsZW1lbnRcbmZ1bmN0aW9uIHByb2Nlc3NQcm9qZWN0SW5wdXQoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1pbnB1dCcpLnZhbHVlO1xuICAgIGxldCBkYXRhUHJvamVjdCA9IGZpbmROZXh0RGF0YXNldCgpO1xuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBjcmVhdGVQcm9qZWN0KGRhdGFQcm9qZWN0LCBwcm9qZWN0TmFtZSk7XG5cbiAgICBwcm9qZWN0TGlzdC5wdXNoKG5ld1Byb2plY3QpO1xuICAgIHNhdmVUb0xvY2FsU3RvcmFnZSgpO1xuXG4gICAgYWRkUHJvamVjdChkYXRhUHJvamVjdCwgcHJvamVjdE5hbWUpO1xuICAgIGhpZGVQcm9qZWN0Rm9ybSgpO1xuXG59XG5cbi8vc2F2ZSBwcm9qZWN0TGlzdCBhbmQgbGFzdCBpZCBkYXRhIG9uIGxvY2FsIHN0b3JhZ2VcbmZ1bmN0aW9uIHNhdmVUb0xvY2FsU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm15UHJvamVjdExpc3RcIiwgSlNPTi5zdHJpbmdpZnkocHJvamVjdExpc3QpKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImN1cnJlbnRJZFwiLCAoaWQpLnRvU3RyaW5nKCkpO1xuXG5cbn1cblxuLy9kaXNwbGF5IHRoZSBsaXN0IG9mIGFsbCBwcm9qZWN0cyBpbiB0aGUgbGVmdCBwYW5lbFxuZnVuY3Rpb24gZGlzcGxheVByb2plY3QoYXJyYXkpIHtcbiAgICBhcnJheS5mb3JFYWNoKHByb2plY3QgPT4ge1xuICAgICAgICBhZGRQcm9qZWN0KHByb2plY3QuZGF0YVByb2plY3QsIHByb2plY3QubmFtZSk7XG4gICAgfSlcbn1cbi8vY3JlYXRlIGEgcHJvamVjdCBhbmQgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIHByb2plY3RzIGluIEhUTTtcbmZ1bmN0aW9uIGFkZFByb2plY3QoZGF0YVByb2plY3QsIHRleHRJbnB1dCkge1xuICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdCcpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC1mb3JtJyk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QnLCBgJHtkYXRhUHJvamVjdH1gKTtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgndGlsZScsICdkYXRhLXRpbGUnKTtcbiAgICBwcm9qZWN0Lmluc2VydEJlZm9yZShjb250YWluZXIsIGZvcm0pO1xuXG4gICAgLy9tZW51IHRocmVlIGxpbmVzIGljb25cbiAgICBjb25zdCBtZW51SWNvbiA9IGNyZWF0ZVNwYW5JY29uKCdtZW51Jyk7XG4gICAgbWVudUljb24uc2V0QXR0cmlidXRlKCdkYXRhLWRyYWcnLCAnJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1lbnVJY29uKTtcbiAgICAvL25hbWUgYW5kIG51bWJlciBzdGF0dXNcbiAgICBjb25zdCBwcm9qZWN0SW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3RJbmZvLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtaW5mbycpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm9qZWN0SW5mbyk7XG5cbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHByb2plY3ROYW1lLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QtbmFtZScpO1xuICAgIHByb2plY3ROYW1lLnRleHRDb250ZW50ID0gdGV4dElucHV0O1xuXG4gICAgcHJvamVjdEluZm8uYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICAgIC8vdGhyZWUgZG90cyBvbiB0aGUgcmlnaHQgc2VjdGlvblxuICAgIGNvbnN0IGVkaXREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlZGl0RGl2LmNsYXNzTGlzdC5hZGQoJ2VkaXQtY29udGFpbmVyJyk7XG4gICAgZWRpdERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHJvcGRvd24nLCAnJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVkaXREaXYpO1xuXG4gICAgY29uc3QgZWRpdEljb24gPSBjcmVhdGVTcGFuSWNvbignbW9yZV92ZXJ0Jyk7XG4gICAgZWRpdEljb24uc2V0QXR0cmlidXRlKFwiZGF0YS1kcm9wZG93bi1idXR0b25cIiwgXCJcIik7XG4gICAgZWRpdERpdi5hcHBlbmRDaGlsZChlZGl0SWNvbik7XG5cbn1cbi8vY3JlYXRlIHNwYW4gaWNvbiBvZiBnb29nbGUgbWF0ZXJpYWxzXG5mdW5jdGlvbiBjcmVhdGVTcGFuSWNvbihuYW1lKSB7XG4gICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBpY29uLmNsYXNzTGlzdC5hZGQoJ21hdGVyaWFsLWljb25zLXJvdW5kJyk7XG4gICAgaWNvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgcmV0dXJuIGljb247XG59XG5cbi8vZmluZCBuZXh0IGRhdGEtc2V0XG5jb25zdCBmaW5kTmV4dERhdGFzZXQgPSAoKSA9PiB7XG4gICAgY29uc3QgYWxscHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcHJvamVjdF1cIik7XG4gICAgcmV0dXJuIGFsbHByb2plY3RzLmxlbmd0aDtcbn1cblxuLy8gcmVtb3ZlIGFkZCB0YXNrIEJ0biB3aGVuIGhvbWVUaWxlcyBpcyBzZWxlY3RlZFxuZnVuY3Rpb24gaGlkZUFkZFRhc2tCdG4oKSB7XG4gICAgY29uc3QgYWRkVGFza0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtbGlzdCcpO1xuICAgIGFkZFRhc2tCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG59XG5cbi8vY2hlY2sgdG8gc2VlIHdoYXQgdGlsZSBpcyBzZWxlY3RlZFxuZnVuY3Rpb24gY2hlY2tUaWxlKGUpIHtcbiAgICBsZXQgaG9tZVRpbGUgPSBlLnRhcmdldC5jbG9zZXN0KCcuaG9tZSAudGlsZScpO1xuICAgIGxldCBwcm9qZWN0VGlsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5wcm9qZWN0IC50aWxlJyk7XG5cblxuICAgIGlmIChob21lVGlsZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gaG9tZVRpbGUucXVlcnlTZWxlY3RvcignW2RhdGEtbmFtZV0nKTtcbiAgICAgICAgc2VsZWN0VGlsZShob21lVGlsZSk7XG4gICAgICAgIHJldmVydE9wdGlvbkxvY2F0aW9uKCk7XG4gICAgICAgIC8vIGNoZWNrV2hpY2hIb21lVGlsZShob21lVGlsZSk7XG4gICAgICAgIHVwZGF0ZVRpdGxlKHRpdGxlKTtcbiAgICAgICAgaGlkZUFkZFRhc2tCdG4oKTtcbiAgICB9IGVsc2UgaWYgKHByb2plY3RUaWxlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBwcm9qZWN0VGlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3QtbmFtZVwiKTtcbiAgICAgICAgbGV0IGRhdGFQcm9qZWN0ID0gcHJvamVjdFRpbGUuZGF0YXNldC5wcm9qZWN0O1xuXG4gICAgICAgIHJldmVydE9wdGlvbkxvY2F0aW9uKCk7XG5cbiAgICAgICAgZGlzcGxheVRhc2soZGF0YVByb2plY3QpO1xuICAgICAgICBzZWxlY3RUaWxlKHByb2plY3RUaWxlKTtcbiAgICAgICAgdXBkYXRlVGl0bGUodGl0bGUpO1xuICAgICAgICBzaG93QWRkVGFza0J0bigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbn1cbi8vY3JlYXRlIHByb2plY3QgZmFjdG9yeSBmdW5jdGlvblxuY29uc3QgY3JlYXRlUHJvamVjdCA9IChkYXRhUHJvamVjdCwgbmFtZSkgPT4ge1xuICAgIGNvbnN0IHRhc2tMaXN0ID0gW107XG4gICAgY29uc3QgdGFza051bSA9IHRhc2tMaXN0Lmxlbmd0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICBkYXRhUHJvamVjdCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdGFza0xpc3QsXG4gICAgICAgIHRhc2tOdW1cbiAgICB9XG59XG5cblxuLy9wb3AgdXAgdGhlIHByb2plY3QgZm9ybVxuZnVuY3Rpb24gc2hvd1Byb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2plY3QtZm9ybScpO1xuICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIC8vZm9jdXMgb24gaW5wdXQgZmllbGRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1pbnB1dCcpLmZvY3VzKCk7XG59XG4vL2hpZGUgdGhlIHByb2plY3QgZm9ybVxuZnVuY3Rpb24gaGlkZVByb2plY3RGb3JtKCkge1xuICAgIGNvbnN0IHByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2plY3QtZm9ybScpO1xuICAgIGNvbnN0IHByb2plY3RJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LWlucHV0Jyk7XG5cbiAgICBwcm9qZWN0SW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIHByb2plY3RGb3JtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RUaWxlKG5vZGUpIHtcbiAgICBjb25zdCBzZWxlY3RlZFRpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKTtcblxuICAgIHNlbGVjdGVkVGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcblxufVxuXG4vL3Nob3cgYWRkVGFza0J0biB3aGVuIHByamVjdCB0aWxlXG5mdW5jdGlvbiBzaG93QWRkVGFza0J0bigpIHtcbiAgICBjb25zdCBhZGRUYXNrQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtbGlzdFwiKTtcbiAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cbn1cblxuZXhwb3J0IHsgY3JlYXRlRXZlbnRMaXN0ZW5lciwgY3JlYXRlU3Bhbkljb24sIHByb2plY3RMaXN0LCBzYXZlVG9Mb2NhbFN0b3JhZ2UsIGhpZGVBZGRUYXNrQnRuLCBjcmVhdGVQcm9qZWN0IH07IiwiaW1wb3J0IHsgY3JlYXRlRXZlbnRMaXN0ZW5lciB9IGZyb20gXCIuL2NyZWF0aW5nUHJvamVjdFwiO1xuaW1wb3J0IHsgbGlzdEV2ZW50IH0gZnJvbSBcIi4vY3JlYXRpbmdUYXNrXCI7XG5pbXBvcnQgeyBlZGl0Q29udGFpbmVyRXZlbnRMaXN0ZW5lciB9IGZyb20gXCIuL2VkaXRpbmdQcm9qZWN0XCI7XG5cblxuY3JlYXRlRXZlbnRMaXN0ZW5lcigpO1xubGlzdEV2ZW50KCk7XG5lZGl0Q29udGFpbmVyRXZlbnRMaXN0ZW5lcigpO1xuLy9oaWRlIHNpZGUgbWVudSBldmVudCBsaXN0ZW5lclxuY29uc3QgaGlkZGVuTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWRkZW4tbWVudScpO1xuaGlkZGVuTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBsZWZ0UGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdC1wYW5lbCcpO1xuICAgIGxlZnRQYW5lbC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbn0pOyJdLCJuYW1lcyI6WyJzaG93RHJvcERvd24iLCJlIiwiaXNEcm9wRG93bkJ1dHRvbiIsInRhcmdldCIsIm1hdGNoZXMiLCJjbG9zZXN0IiwiY3VycmVudERyb3BEb3duIiwiZWRpdENvbnRhaW5lciIsInByb2plY3RPcHRpb24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhcHBlbmRDaGlsZCIsImxpc3RPcHRpb24iLCJnZXRFbGVtZW50QnlJZCIsInJlbG9jYXRlT3B0aW9uIiwic2V0VGltZW91dCIsInRvZ2dsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiZHJvcGRvd24iLCJzaG93UmVuYW1lRm9ybSIsImVkaXRDb250YWluZXJOb2RlIiwicGFyZW50Tm9kZSIsInRpbGVOb2RlIiwiaGlkZURyb3BEb3duIiwiY29udGFpbnMiLCJyZXZlcnRSZW5hbWVGb3JtTG9jYXRpb24iLCJkaXNwbGF5UmVuYW1lZFByb2plY3QiLCJwcm9qZWN0Tm9kZSIsInJlbmFtZUZvcm0iLCJuYW1lIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsImluc2VydEJlZm9yZSIsInJlbG9jYXRlUmVuYW1lRm9ybSIsImZvcm0iLCJhbmltYXRlUmVuYW1lRm9ybSIsImZvY3VzIiwiYWRkIiwiZGVsZXRlUHJvamVjdCIsInRpbGUiLCJpbmRleCIsImRhdGFzZXQiLCJwcm9qZWN0IiwidG9kYXkiLCJuYW1lTm9kZSIsInVwZGF0ZVRpdGxlIiwicmV2ZXJ0T3B0aW9uTG9jYXRpb24iLCJpIiwiZGF0YU51bSIsInByb2plY3RMaXN0IiwiZGF0YVByb2plY3QiLCJzb3J0IiwiYSIsImIiLCJzYXZlVG9Mb2NhbFN0b3JhZ2UiLCJzb3J0QXJyYXkiLCJzcGxpY2UiLCJmaW5kU2VsZWN0ZWRUYXNrIiwibGlzdElkIiwicmVkdWNlIiwiYWNjIiwiY3VycmVudFRhc2siLCJ0YXNrTGlzdCIsImZpbmQiLCJ0YXNrIiwiaWQiLCJoaWRlTGlzdEZvcm0iLCJsaXN0Rm9ybSIsImxpc3RJbnB1dCIsImxpc3RJbnB1dERldGFpbCIsImxpc3RJbnB1dERhdGUiLCJOdW1iZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYWRkVGFzayIsInRpdGxlIiwiZGV0YWlscyIsImRhdGUiLCJjb21wbGV0ZWQiLCJpbXBvcnRhbnQiLCJ1bCIsImxpIiwiY3JlYXRlRWxlbWVudCIsInVuY2hlY2tlZCIsImxpc3REZXRhaWxzIiwidGFza1RpdGxlIiwidGFza0RldGFpbHMiLCJkYXRlRGl2IiwibGlzdFJpZ2h0Iiwic3Rhck91dGxpbmUiLCJjcmVhdGVTcGFuSWNvbiIsInN0YXIiLCJ0aHJlZURvdHMiLCJkcm9wZG93bkJ1dHRvbiIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkUHJvamVjdCIsInRleHRJbnB1dCIsImNvbnRhaW5lciIsInNldEF0dHJpYnV0ZSIsIm1lbnVJY29uIiwicHJvamVjdEluZm8iLCJwcm9qZWN0TmFtZSIsImVkaXREaXYiLCJlZGl0SWNvbiIsImljb24iLCJwYXJzZSIsImZpbmROZXh0RGF0YXNldCIsImxlbmd0aCIsImNyZWF0ZVByb2plY3QiLCJ0YXNrTnVtIiwiaGlkZVByb2plY3RGb3JtIiwicHJvamVjdEZvcm0iLCJzZWxlY3RUaWxlIiwibm9kZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsIm5ld1Byb2plY3QiLCJwdXNoIiwiaG9tZVRpbGUiLCJwcm9qZWN0VGlsZSIsImRpc3BsYXlUYXNrIiwiZGF0ZUlucHV0IiwiZm9ybWF0dGVkRGF0ZSIsInByb2Nlc3NEYXRlRGF0YSIsImxpc3RJRCIsIm5ld1Rhc2siLCJjcmVhdGVUYXNrIiwiaXNTdGFySWNvbiIsImlzQ2lyY2xlSWNvbiIsImNvbnNvbGUiLCJsb2ciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJzdHlsZUltcG9ydGFudFRhc2siLCJzZWxlY3RlZFRhc2siLCJ1cGRhdGVJbXBvcnRhbnRUYXNrIiwidW5jaGVja2VkTm9kZSIsInN0eWxlQ29tcGxldGVkVGFzayIsInVwZGF0ZUNvbXBsZXRlZFRhc2siLCJvcHRpb24iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImxhc3RFbGVtZW50Q2hpbGQiLCJyZW5hbWVJbnB1dCIsInByb2Nlc3NSZW5hbWVJbnB1dCIsImVkaXRDb250YWluZXJFdmVudExpc3RlbmVyIl0sInNvdXJjZVJvb3QiOiIifQ==